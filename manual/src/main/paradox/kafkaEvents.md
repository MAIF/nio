## Published Kafka Events

| Event Type           	               | Description                                                    	| Payload example                                                                                                                                                                              	|
|------------------------------------- |-------------------------------------------------------------------	|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------	|
| TenantCreated        	               | Emitted when a new tenant has been created.                        | ```{"type":"TenantCreated","author":"tenant-admin","date":"2018-04-11T12:27:34Z","id":984045289865216000,"payload":{"key":"newTenant","description":"a new tenant"}}```  |
| TenantDeleted        	               | Emitted when an existing tenant has been deleted.                  | ```{"type":"TenantDeleted","author":"tenant-admin","date":"2018-04-11T12:27:35Z","id":984045289865216004,"payload":{"key":"newTenant","description":"a new tenant"}}```  |
| OrganisationCreated  	               | Emitted when a new Organisation has been created (as a draft). 	| ```{"type":"OrganisationCreated","tenant":"prod","author":"admin@test.com","date":"2018-04-11T12:27:41Z","id":984045319233732614,"payload":{"key":"org1","label":"lbl1","version":{"status":"DRAFT","num":1,"latest":false},"groups":[{"key":"group1","label":"blalba","permissions":[{"key":"sms","label":"Please accept sms"}]}]}}```                                   	                    |
| OrganisationUpdated  	               | Emitted when an existing Organisation has been updated         	| ```{"type":"OrganisationUpdated","tenant":"prod","author":"admin@test.com","date":"2018-01-01T20:20:20Z","id":984045319233732615,"payload":{"key":"org1","label":"lbl2","version":{"status":"DRAFT","num":1,"latest":false},"groups":[{"key":"group1","label":"blalba","permissions":[{"key":"sms","label":"Please accept sms"}]}]}, "oldValue": {"key":"org1","label":"lbl1","version":{"status":"DRAFT","num":1,"latest":false},"groups":[{"key":"group1","label":"blalba","permissions":[{"key":"sms","label":"Please accept sms"}]}]}} ``` 	                            |
| OrganisationReleased 	               | Emitted when an existing Organisation draft has been released. 	| ```{"type":"OrganisationReleased","tenant":"prod","author":"admin@test.com","date":"2018-04-11T12:27:41Z","id":984045319397310471,"payload":{"key":"org1","label":"lbl2","version":{"status":"RELEASED","num":1,"latest":true},"groups":[{"key":"group1","label":"blalba","permissions":[{"key":"sms","label":"Please accept sms"}]}]}}```                                                               	|
| OrganisationDeleted  	               | Emitted when an existing Organisation has been deleted.       	    | ```{"type":"OrganisationDeleted","tenant":"prod","author":"admin@test.com","date":"2018-04-11T12:27:42Z","id":984045319233732615,"payload":{"key":"org1","label":"lbl2","version":{"status":"RELEASED","num":1,"latest":true},"groups":[{"key":"group1","label":"blalba","permissions":[{"key":"sms","label":"Please accept sms"}]}]}}```                                   	                    |
| ConsentFactCreated   	               | Emitted when a new ConsentFact has been created.               	| ```{"type":"ConsentFactCreated","tenant":"prod","author":"admin@test.com",date":"2018-04-11T12:27:43Z","id":984045319397310472,"payload":{"userId":"toto1","doneBy":{"userId":"bob","role":"admin"},"version":1,"groups":[{"key":"group1","label":"blabla","consents":[{"key":"sms","label":"Please accept sms","checked":true}]}], "orgKey":"org1" }```                                                         	|
| ConsentFactUpdated   	               | Emitted when an existing ConsentFact has been updated.         	| ```{"type":"ConsentFactUreated","tenant":"prod","author":"admin@test.com",date":"2018-04-11T12:27:44Z","id":984045319397310473,"payload":{"userId":"toto1","doneBy":{"userId":"bob","role":"admin"},"version":1,"groups":[{"key":"group1","label":"blabla","consents":[{"key":"sms","label":"Please accept sms","checked":true}]}], "orgKey":"org1" }, "oldValue":{"userId":"toto1","doneBy":{"userId":"bob","role":"admin"},"version":1,"groups":[{"key":"group1","label":"blabla","consents":[{"key":"sms","label":"Please accept sms","checked":true}]}], "orgKey":"org1" } ```                      	|
| UserExtractTaskAsked                 | Emitted when a user extraction task is asked.                      | ```{"type":"UserExtractTaskAsked","tenant":"sandbox","author":"pa:admin@nio.io","metadata":{},"date":"2018-10-02T13:03:56Z","id":1047109931998642177,"payload":{"_id":"5bb36cbc1f000014fcc9cb6c","tenant":"sandbox","orgKey":"maif","userId":"user1","email":"loic.remongin@scub.net","startedAt":"2018-10-02T13:03:56Z"}}```                      	|
| UserExtractTaskCompleted             | Emitted when a user extraction task is completed.                  | ```{"type":"UserExtractTaskCompleted","tenant":"sandbox","author":"apikey:nio-apikey","metadata":{},"date":"2018-10-02T13:04:48Z","id":1047110149804654594,"payload":{"_id":"5bb36cbc1f000014fcc9cb6c","tenant":"sandbox","orgKey":"maif","userId":"user1","email":"loic.remongin@scub.net","startedAt":"2018-10-02T13:03:56Z","uploadStartedAt":"2018-10-02T13:04:47Z","endedAt":"2018-10-02T13:04:48Z"}}```                      	|
